{{!-- {{#each coffee}}
<li>{{this.name}}</li>
<a href="/coffee/{{this.slug}}">Here</a>
{{/each}}

{{#if user}}
<h1>{{user.username}}</h1>
{{else}}
<h1>Unknown user</h1>
{{/if}} --}}

<div id="list-product-page" class="row no-gutters">

  <div id="page-route" class="col col-12">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="#">Home</a></li>
        <li class="breadcrumb-item"><a href="#">Cafe</a></li>
        {{!-- <li class="breadcrumb-item active" aria-current="page">Data</li> --}}
      </ol>
    </nav>
  </div>

  <div id="product-category" class="col col-md-auto">
    <div class="name-category">
      <h4>Danh mục sản phẩm</h4>
      <ul>
        <li><a href='#'>Coffee hệ lửa</a></li>
        <li><a href='#'>Coffee hệ điện</a></li>
        <li><a href='#'>Coffee hệ nước</a></li>
        <li><a href='#'>Coffee hệ tâm linh</a></li>
        <li><a href='#'>Coffee hệ melody</a></li>
        <li><a href='#'>Coffee hệ lyric</a></li>
        <li><a href='#'>Coffee hệ manga</a></li>
        <li><a href='#'>Coffee hệ cocain</a></li>
      </ul>
    </div>

    <div class="rate-category">
      <h4>Đánh giá</h4>
      <ul>
        <li><a href='#'>
            <i class="ti-star star-light"></i>
            <i class="ti-star star-light"></i>
            <i class="ti-star star-light"></i>
            <i class="ti-star star-light"></i>
            <i class="ti-star star-light"></i>
            <span>từ 5 sao</span>
          </a></li>
        <li>
          <a href='#'>
            <i class="ti-star star-light"></i>
            <i class="ti-star star-light"></i>
            <i class="ti-star star-light"></i>
            <i class="ti-star star-light"></i>
            <i class="ti-star star-dark"></i>
            <span>từ 4 sao</span>
          </a>
        </li>
        <li>
          <a href='#'>
            <i class="ti-star star-light"></i>
            <i class="ti-star star-light"></i>
            <i class="ti-star star-light"></i>
            <i class="ti-star star-dark"></i>
            <i class="ti-star star-dark"></i>
            <span>từ 3 sao</span>
          </a>
        </li>
      </ul>
    </div>

    <div class="value-category">
      <h4>Giá</h4>
      <div><a href="#"><span>Dưới 40k</span></a></div>
      <div><a href="#"><span>Từ 40k đến 140k</span></a></div>
      <div><a href="#"><span>Từ 140k đến 300k</span></a></div>
      <div><a href="#"><span>Trên 300k</span></a></div>

    </div>
  </div>


  <div id="product-area" class="col">
    <!--Carousel Wrapper-->

    <div id="product-name">
      Coffee Halloween
    </div>

    <div id="carousel-example-1z" class="carousel slide carousel-fade product-slider" data-ride="carousel">
      <!--Indicators-->
      <ol class="carousel-indicators">
        <li data-target="#carousel-example-1z" data-slide-to="0" class="active"></li>
        <li data-target="#carousel-example-1z" data-slide-to="1"></li>
        <li data-target="#carousel-example-1z" data-slide-to="2"></li>
      </ol>
      <!--/.Indicators-->
      <!--Slides-->

      <div class="carousel-inner" role="listbox">
        <!--First slide-->
        <div class="carousel-item active">
          <img class="d-block w-100" src="/img/halloween1.jpg" alt="First slide">
        </div>
        <!--/First slide-->
        <!--Second slide-->
        <div class="carousel-item">
          <img class="d-block w-100" src="/img/halloween2.jpg" alt="Second slide">
        </div>
        <!--/Second slide-->
        <!--Third slide-->
        <div class="carousel-item">
          <img class="d-block w-100" src="/img/halloween3.jpg" alt="Third slide">
        </div>
        <!--/Third slide-->
      </div>
      <!--/.Slides-->
      <!--Controls-->
      <a class="carousel-control-prev" href="#carousel-example-1z" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carousel-example-1z" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
      <!--/.Controls-->
    </div>
    <!--/.Carousel Wrapper-->

    <div class="product-filter">
      <ul>
        <li class="">
          <a href='#'>Phổ biến</a>
          <div class="filter-pane"></div>
        </li>
        <li class="active">
          <a href='#'>Bán chạy</a>
          <div class="filter-pane"></div>
        </li>
        <li class="">
          <a href='#'>Hàng mới</a>
          <div class="filter-pane "></div>
        </li>
        <li class="">
          <a href='#'>Giá thấp</a>
          <div class="filter-pane "></div>
        </li>
        <li class="">
          <a href='#'>Giá cao</a>
          <div class="filter-pane"></div>
        </li>
      </ul>
    </div>

    <div id="product-list" class="row ">

      <div class="product-item col col-3">
        <a href="#">
          <div class="card">
            <img class="card-img-top" src="/img/pikachu.png" alt="Card image cap">
            <div class="card-body">
              <p class="card-title">Pikachu</p>
              <p class="card-text"> "Pika pika pikachu"</p>
              <div class="item-price flex">
                <div class="price-value">344.000 ₫</div>
                <div class="discount-value ">-12%</div>
              </div>
            </div>
          </div>
        </a>
      </div>

      <div class="product-item col col-3">
        <a href="#">
          <div class="card">
            <img class="card-img-top" src="/img/pikachu.png" alt="Card image cap">
            <div class="card-body">
              <p class="card-title">Pikachu</p>
              <p class="card-text"> "Pika pika pikachu"</p>
              <div class="item-price flex">
                <div class="price-value">344.000 ₫</div>
                <div class="discount-value ">-12%</div>
              </div>
            </div>
          </div>
        </a>
      </div>

      <div class="product-item col col-3">
        <a href="#">
          <div class="card">
            <img class="card-img-top" src="/img/pikachu.png" alt="Card image cap">
            <div class="card-body">
              <p class="card-title">Pikachu</p>
              <p class="card-text"> "Pika pika pikachu"</p>
              <div class="item-price flex">
                <div class="price-value">344.000 ₫</div>
                <div class="discount-value ">-12%</div>
              </div>
            </div>
          </div>
        </a>
      </div>


      <div class="product-item col col-3">
        <a href="#">
          <div class="card">
            <img class="card-img-top" src="/img/pikachu.png" alt="Card image cap">
            <div class="card-body">
              <p class="card-title">Pikachu</p>
              <p class="card-text"> "Pika pika pikachu"</p>
              <div class="item-price flex">
                <div class="price-value">344.000 ₫</div>
                <div class="discount-value ">-12%</div>
              </div>
            </div>
          </div>
        </a>
      </div>

      <div class="product-item col col-3">
        <a href="#">
          <div class="card">
            <img class="card-img-top" src="/img/pikachu.png" alt="Card image cap">
            <div class="card-body">
              <p class="card-title">Pikachu</p>
              <p class="card-text"> "Pika pika pikachu"</p>
              <div class="item-price flex">
                <div class="price-value">344.000 ₫</div>
                <div class="discount-value ">-12%</div>
              </div>
            </div>
          </div>
        </a>
      </div>

      <div class="product-item col col-3">
        <a href="#">
          <div class="card">
            <img class="card-img-top" src="/img/pikachu.png" alt="Card image cap">
            <div class="card-body">
              <p class="card-title">Pikachu</p>
              <p class="card-text"> "Pika pika pikachu"</p>
              <div class="item-price flex">
                <div class="price-value">344.000 ₫</div>
                <div class="discount-value ">-12%</div>
              </div>
            </div>
          </div>
        </a>
      </div>


      <div class="product-item col col-3">
        <a href="#">
          <div class="card">
            <img class="card-img-top" src="/img/pikachu.png" alt="Card image cap">
            <div class="card-body">
              <p class="card-title">Pikachu</p>
              <p class="card-text"> "Pika pika pikachu"</p>
              <div class="item-price flex">
                <div class="price-value">344.000 ₫</div>
                <div class="discount-value ">-12%</div>
              </div>
            </div>
          </div>
        </a>
      </div>


      <div class="product-item col col-3">
        <a href="#">
          <div class="card">
            <img class="card-img-top" src="/img/pikachu.png" alt="Card image cap">
            <div class="card-body">
              <p class="card-title">Pikachu</p>
              <p class="card-text"> "Pika pika pikachu"</p>
              <div class="item-price flex">
                <div class="price-value">344.000 ₫</div>
                <div class="discount-value ">-12%</div>
              </div>
            </div>
          </div>
        </a>
      </div>


      <div class="product-item col col-3">
        <a href="#">
          <div class="card">
            <img class="card-img-top" src="/img/pikachu.png" alt="Card image cap">
            <div class="card-body">
              <p class="card-title">Pikachu</p>
              <p class="card-text"> "Pika pika pikachu"</p>
              <div class="item-price flex">
                <div class="price-value">344.000 ₫</div>
                <div class="discount-value ">-12%</div>
              </div>
            </div>
          </div>
        </a>
      </div>

    </div>

    <div id = "pagination" class = "row justify-content-end">
      <ul>
        <a href = "#"><i class = "btn left-btn ti-angle-double-left"></i></a>

        <li class = "active"><a href = "#"><span>1</span></a></li>
        <li class = ""><a href = "#"><span>2</span></a></li>
        <li class = ""><a href = "#"><span>3</span></a></li>
        <li class = ""><a href = "#"><span>4</span></a></li>
        
        <a href = "#"><i class = "btn right-btn act ti-angle-double-right"></i></a>
        
      </ul>
    </div>

  </div>


</div>


<script>
  const $ = document.querySelector.bind(document);
  const $$ = document.querySelectorAll.bind(document);
  

  function prevIconClick(items) {
    var activeIndex;
    var activeE;
    items.forEach(function (item, index) {
      if (item.classList.contains('active')) {
        activeE = item;
      }
    })
    items.forEach(function (item, index) {
      if (item === activeE) {
        activeIndex = index;
      }
    })
    activeE.classList.remove('active');
    if (activeIndex > 0) {
      items[activeIndex - 1].classList.add('active');
    }
    else {
      items[items.length - 1].classList.add('active');
    }
  }

  function nextIconClick(items) {
    var activeIndex;
    var activeE;
    items.forEach(function (item, index) {
      if (item.classList.contains('active')) {
        activeE = item;
      }
    })
    items.forEach(function (item, index) {
      if (item === activeE) {
        activeIndex = index;
      }
    })
    activeE.classList.remove('active');
    if (activeIndex < items.length - 1) {
      items[activeIndex + 1].classList.add('active');
    }
    else {
      items[0].classList.add('active');
    }
  }

  // filter list
  const filterItems = $$('.product-filter li')

  filterItems.forEach((element, index) => {
    element.onclick = function () {
      var activeItem = $('.product-filter li.active')

      activeItem.classList.remove('active')
      element.classList.add('active')

    }
  })

  // pagination

  const pagiItems = $$('#pagination li')

  const leftBtn = $('#pagination .left-btn')  

  const rightBtn = $('#pagination .right-btn')  

  function checkPagiActive() {
    
    const num = pagiItems.length
    const activeItem = $('#pagination li.active')

    if(activeItem !== pagiItems[0]){
      leftBtn.classList.add('act')
    }
    else{
      leftBtn.classList.remove('act')
    }

    if(activeItem === pagiItems[num-1]) {
      rightBtn.classList.remove('act')
    }
    else {
      rightBtn.classList.add('act')
    }

  }

  pagiItems.forEach((element, index) => {

    element.onclick = function () {
      var activeItem = $('#pagination li.active')

      activeItem.classList.remove('active')
      element.classList.add('active')
      
      checkPagiActive()
    }
  })

  
  leftBtn.onclick = function () {
    prevIconClick(pagiItems)
    checkPagiActive()

  }
  rightBtn.onclick = function () {
    nextIconClick(pagiItems)
    checkPagiActive()

  }


</script>